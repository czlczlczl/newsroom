(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[47],{"+1u/":function(e,t,a){"use strict";a.r(t);a("+L6B");var r,s,n,c,l=a("2/Rp"),o=(a("5NDa"),a("5rEg")),d=(a("OaEy"),a("2fM7")),m=(a("IzEo"),a("bx4M")),p=(a("FJo9"),a("L41K")),h=(a("14J3"),a("BMrR")),u=(a("jCWc"),a("kPKH")),f=(a("miYZ"),a("tsqr")),k=a("2Taf"),g=a.n(k),E=a("vZ4D"),y=a.n(E),v=a("l4Ni"),w=a.n(v),D=a("ujKo"),S=a.n(D),_=a("MhPg"),b=a.n(_),N=(a("y8nQ"),a("Vl3Y")),j=a("q1tI"),x=a.n(j),A=a("MuoO"),C=a("wd/R"),L=a.n(C),O=a("usdK"),T=a("+kNj"),z=a("Yaqk"),M=a("zHco"),R=a("UUne"),U=a.n(R),q="academicSection",J="refereeDetailPublicStorage",F=function(e){var t=e[J].task,a=e[J].article,r=e[q].list;return{academicSec:r,article:a,task:t}},P=(r=Object(A["connect"])(F,null),s=N["a"].create(),r(n=s((c=function(e){function t(e){var a;return g()(this,t),a=w()(this,S()(t).call(this,e)),a.translateAcademicSec=function(e){if(!e)return null;if(!a.props.academicSec)return null;for(var t=0;t<a.props.academicSec.length;t++)if(a.props.academicSec[t].id==e)return a.props.academicSec[t].academicsec;return null},a.getWriterName=function(e){var t=e;if(!e)return"";for(var a="",r=0;r<t.length-1;r++)a=a.concat(t[r].name.concat(", "));return a=a.concat(t[i].name),a},a.onSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(!e){var r={task:{id:a.state.task.id,id_article:a.state.task.id_article,id_role:a.state.task.id_role,content:t.content,stat:t.stat,role:a.state.role,flag:a.state.flag}};fetch("/task/judge",{method:"POST",body:r}).then(function(e){return e.json()}).then(function(e){1!=e.result?f["a"].error("\u63d0\u4ea4\u9519\u8bef"):O["a"].push("/referee/judgeresult")})}})},a.onReject=function(e){e.preventDefault();var t={task:{id:a.state.task.id,id_article:a.state.task.id_article,id_role:a.state.task.id_role,content:a.state.task.content,stat:a.state.task.stat,role:3,flag:a.state.flag}};fetch("/task/judge",{method:"POST",body:t}).then(function(e){return e.json()}).then(function(e){1!=e.result?f["a"].error("\u63d0\u4ea4\u9519\u8bef"):O["a"].push("/referee/rejectresult")})},a.downloadURL=function(e){e.preventDefault(),window.open(a.state.task?"/download/id=".concat(a.state.task.id).concat("&type=0"):"")},a.state={task:{},article:{},targetTime:0},a}return b()(t,e),y()(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"".concat(q,"/queryList")});var e=L()(this.props.task?this.props.task.date:void 0).add(30,"days");this.setState({task:this.props.task,article:this.props.article,targetTime:e})}},{key:"render",value:function(){var e=this.state?x.a.createElement(T["a"],{className:U.a.headerList,size:"small",col:"2"},x.a.createElement(T["a"].Description,{term:"\u4f5c\u8005"},this.getWriterName(this.state.article?this.state.article.writers_info:"")),x.a.createElement(T["a"].Description,{term:"\u5b66\u672f\u9886\u57df"},this.translateAcademicSec(this.state.article?this.state.article.academicsec:0)),x.a.createElement(T["a"].Description,{term:"\u5173\u952e\u8bcd\uff08\u4e2d\u6587\uff09"},this.state.article?this.state.article.keyword1_ch:"","\u3001",this.state.article?this.state.article.keyword2_ch:"N/A","\u3001",this.state.article?this.state.article.keyword3_ch:"N/A","\u3001",this.state.article?this.state.article.keyword4_ch:"N/A"),x.a.createElement(T["a"].Description,{term:"\u5173\u952e\u8bcd\uff08\u82f1\u6587\uff09"},this.state.article?this.state.article.keyword1_en:"","\u3001",this.state.article?this.state.article.keyword2_en:"N/A","\u3001",this.state.article?this.state.article.keyword3_en:"N/A","\u3001",this.state.article?this.state.article.keyword4_ch:"N/A"),x.a.createElement(T["a"].Description,{term:"\u6458\u8981\uff08\u4e2d\u6587\uff09"},this.state.article?this.state.article.summary_ch:""),x.a.createElement(T["a"].Description,{term:"\u6458\u8981\uff08\u82f1\u6587"},this.state.article?this.state.article.summary_en:""),x.a.createElement(T["a"].Description,{term:"\u6587\u7ae0\u5730\u5740"},x.a.createElement("a",{onClick:this.downloadURL},"\u4e0b\u8f7d\u5730\u5740"))):null,t=this.state?x.a.createElement(h["a"],null,x.a.createElement(u["a"],{xs:24,sm:12},x.a.createElement("div",{className:U.a.textSecondary},"\u72b6\u6001"),x.a.createElement("div",{className:U.a.heading},"\u5f85\u5ba1\u7a3f")),x.a.createElement(u["a"],{xs:24,sm:12},x.a.createElement("div",{className:U.a.textSecondary},"\u8ddd\u79bb\u622a\u6b62\u65f6\u95f4"),x.a.createElement("div",{className:U.a.heading},x.a.createElement(z["a"],{target:this.state.targetTime})))):null;return x.a.createElement(M["a"],{title:"\u6587\u7ae0\u6807\u9898\uff1a".concat(this.state.article?this.state.article.title:""),logo:x.a.createElement("img",{alt:"",src:"https://gw.alipayobjects.com/zos/rmsportal/nxkuOJlFJuAUhzlMTCEe.png"}),content:e,extraContent:t},x.a.createElement(m["a"],{title:"\u6d41\u7a0b\u8fdb\u5ea6",style:{marginBottom:24},bordered:!1},x.a.createElement(p["a"],{progressDot:!0,direction:"horizontal",current:0},x.a.createElement(p["a"].Step,{title:"\u63d0\u4ea4\u5ba1\u7a3f\u610f\u89c1",description:"\u8bf7\u63d0\u4ea4\u4f60\u5bf9\u672c\u7bc7\u6587\u7ae0\u7684\u5ba1\u7a3f\u610f\u89c1"}),x.a.createElement(p["a"].Step,{title:"\u5ba1\u7a3f\u5b8c\u6210",description:"\u8be5\u7bc7\u6587\u7ae0\u7684\u5ba1\u7a3f\u4efb\u52a1\u5df2\u5b8c\u6210"}))),x.a.createElement(m["a"],{title:"\u64cd\u4f5c",style:{marginBottom:24},bordered:!1},x.a.createElement(N["a"],{layout:"horizontal"},x.a.createElement(N["a"].Item,{label:"\u5ba1\u7a3f\u7ed3\u8bba"},this.props.form.getFieldDecorator("stat",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4e00\u4e2a\u5ba1\u7a3f\u7ed3\u8bba"}]})(x.a.createElement(d["a"],null,x.a.createElement(d["a"].Option,{value:4},"\u901a\u8fc7"),x.a.createElement(d["a"].Option,{value:2},"\u4e0d\u901a\u8fc7")))),x.a.createElement(N["a"].Item,{label:"\u5ba1\u7a3f\u610f\u89c1"},this.props.form.getFieldDecorator("content",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5ba1\u7a3f\u610f\u89c1"}]})(x.a.createElement(o["a"].TextArea,{row:4,placeholder:"\u8bf7\u586b\u5199\u5ba1\u7a3f\u610f\u89c1"}))),x.a.createElement(l["a"],{type:"primary",onClick:this.onSubmit},"\u63d0\u4ea4"),x.a.createElement(l["a"],{type:"danger",onClick:this.onReject,disabled:7==this.state.task.stat},"\u62d2\u7edd"))))}}]),t}(x.a.Component),n=c))||n)||n);t["default"]=P},UUne:function(e,t,a){e.exports={headerList:"antd-pro-pages-referee-article-detail-headerList",tabsCard:"antd-pro-pages-referee-article-detail-tabsCard",noData:"antd-pro-pages-referee-article-detail-noData",heading:"antd-pro-pages-referee-article-detail-heading",stepDescription:"antd-pro-pages-referee-article-detail-stepDescription",textSecondary:"antd-pro-pages-referee-article-detail-textSecondary"}}}]);