(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[64],{"580z":function(e,t,a){e.exports={tableList:"antd-pro-pages-system-management-column-tableList",tableListOperator:"antd-pro-pages-system-management-column-tableListOperator",tableListForm:"antd-pro-pages-system-management-column-tableListForm",submitButtons:"antd-pro-pages-system-management-column-submitButtons",error:"antd-pro-pages-system-management-column-error",success:"antd-pro-pages-system-management-column-success",warning:"antd-pro-pages-system-management-column-warning","progress-pass":"antd-pro-pages-system-management-column-progress-pass",progress:"antd-pro-pages-system-management-column-progress"}},MJeH:function(e,t,a){"use strict";a.r(t);a("IzEo");var n,s,o,l,d,r,i,c,p,u,m=a("bx4M"),h=(a("+L6B"),a("2/Rp")),f=(a("miYZ"),a("tsqr")),b=(a("/zsF"),a("PArb")),g=a("jehZ"),V=a.n(g),y=(a("5NDa"),a("5rEg")),v=a("2Taf"),M=a.n(v),C=a("vZ4D"),w=a.n(C),A=a("l4Ni"),S=a.n(A),E=a("ujKo"),R=a.n(E),k=a("MhPg"),L=a.n(k),D=(a("y8nQ"),a("Vl3Y")),F=(a("2qtc"),a("kLXV")),O=a("q1tI"),I=a.n(O),x=a("MuoO"),U=a("CkN6"),q=a("zHco"),z=a("580z"),N=a.n(z),j="adminColumn",T=function(e){var t=e[j].typelist,a=e[j].loading;return{loading:a,rows:t}},B=function(e,t){var a=e.map(function(e){return e.column}),n=a.join(", ");F["a"].confirm({title:"\u662f\u5426\u786e\u8ba4\u5220\u9664\u4ee5\u4e0b\u680f\u76ee",content:n,okText:"\u662f",okType:"danger",cancelText:"\u5426",onOk:function(){t(e)}})},J={labelCol:{span:7},wrapperCol:{span:13}},P=(n=D["a"].create(),n((o=function(e){function t(e){var a;return M()(this,t),a=S()(this,R()(t).call(this,e)),a.handleAddModal=function(e){e.preventDefault();var t=a.props.handleAdd;a.props.form.validateFields(function(e,a){e||t({column:a.column})})},a.state={formVals:{column:a.props.values.column},visible:!1},a}return L()(t,e),w()(t,[{key:"render",value:function(){var e=this;return this.props.isAddSuccess&&(this.setState({formVals:{},visible:!1}),this.props.handleChangeIsAddSuccess(!1)),I.a.createElement(F["a"],{width:640,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:"\u6dfb\u52a0\u65b0\u680f\u76ee",visible:this.props.addModalVisible,onOk:this.handleAddModal,onCancel:function(){return e.props.handleAddModalVisible(!1,e.props.values)},afterClose:function(){e.props.handleAddModalVisible()}},I.a.createElement(D["a"].Item,V()({},J,{label:"\u680f\u76ee\u540d\u79f0"}),this.props.form.getFieldDecorator("column",{initialValue:this.state.formVals.column,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65b0\u7684\u680f\u76ee\u540d\u79f0"}]})(I.a.createElement(y["a"],{placeholder:"\u8bf7\u8f93\u5165\u65b0\u7684\u680f\u76ee\u540d\u79f0"}))))}}]),t}(I.a.Component),s=o))||s),Z=(l=D["a"].create(),l((r=function(e){function t(e){var a;return M()(this,t),a=S()(this,R()(t).call(this,e)),a.handleUpdateModal=function(e){e.preventDefault();var t=a.props,n=(t.form,t.handleUpdate);a.props.form.validateFields(function(e,t){e||n({id:a.props.record.id,column:t.column})})},a.state={formVals:{id:a.props.record?a.props.record.id:0,column:a.props.record?a.props.record.column:""}},a}return L()(t,e),w()(t,[{key:"render",value:function(){var e=this;return I.a.createElement(F["a"],{width:640,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:"\u4fee\u6539\u680f\u76ee",onOk:this.handleUpdateModal,visible:this.props.updateModalVisible,onCancel:function(){e.props.handleUpdateModalVisible()}},I.a.createElement(D["a"].Item,V()({},J,{label:"\u5185\u90e8ID"}),this.props.record.id),I.a.createElement(D["a"].Item,V()({},J,{label:"\u680f\u76ee\u540d\u79f0"}),this.props.form.getFieldDecorator("column",{initialValue:this.props.record.column,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65b0\u7684\u680f\u76ee\u540d\u79f0"}]})(I.a.createElement(y["a"],{placeholder:"\u8bf7\u8f93\u5165\u65b0\u7684\u680f\u76ee\u540d\u79f0"}))))}}]),t}(I.a.Component),d=r))||d),H=(i=Object(x["connect"])(T,null),c=D["a"].create(),i(p=c((u=function(e){function t(e){var a;return M()(this,t),a=S()(this,R()(t).call(this,e)),a.handleUpdateOneRecord=function(e,t){a.setState({updateModalVisible:!!e,updateRecord:t||{}})},a.columns=[{title:"\u5185\u90e8ID",dataIndex:"id"},{title:"\u680f\u76ee",dataIndex:"column"},{title:"\u64cd\u4f5c",render:function(e,t){return I.a.createElement(O["Fragment"],null,I.a.createElement("a",{onClick:function(){return a.handleUpdateOneRecord(!0,t)}},"\u4fee\u6539"),I.a.createElement(b["a"],{type:"vertical"}),I.a.createElement("a",{onClick:function(){return a.handleDeleteRecordOneLine(!0,t)}},"\u5220\u9664"))}}],a.handleAddModalVisible=function(e,t){a.setState({addModalVisible:!!e,stepFormValues:t||{}})},a.handleUpdateModalVisible=function(e,t){a.setState({updateModalVisible:!!e,updateRecord:t||{}})},a.deleteFunc=function(e){new Promise(function(t,n){for(var s=function(t){var n={id:e[t].id},s=e[t];a.props.dispatch({type:"".concat(j,"/deleteOneCol"),payload:n,callback:function(e){1!=e.result&&f["a"].error("\u6761\u76ee\u5220\u9664\u5931\u8d25\uff1a".concat(s.column))}})},o=0;o<e.length;o++)s(o);t()}).then(function(){a.props.dispatch({type:"".concat(j,"/queryCol")})})},a.handleDeleteRecordOneLine=function(e,t){a.setState({oneLineDeleteModalVisible:!!e,oneLineRecordValue:t||{}}),B([t],a.deleteFunc)},a.handleDeleteRecordLines=function(e){e.preventDefault(),B(a.state.selectedRows,a.deleteFunc)},a.handleModalVisible=function(e){a.setState({modalVisible:!!e})},a.handleSelectRows=function(e){a.setState({selectedRows:e})},a.handleChangeIsAddSuccess=function(e){a.setState({isAddSuccess:e})},a.handleAdd=function(e){var t=!1,n={column:e.column};return a.props.dispatch({type:"".concat(j,"/addCol"),payload:n,callback:function(e){1!=e.result?f["a"].error("\u6dfb\u52a0\u9519\u8bef"):(f["a"].success("\u6dfb\u52a0\u6210\u529f"),a.handleAddModalVisible(),a.handleChangeIsAddSuccess(!0),a.props.dispatch({type:"".concat(j,"/queryCol")}))}}),t},a.handleUpdate=function(e){var t=!1,n={id:e.id,column:e.column};return a.props.dispatch({type:"".concat(j,"/updateCol"),payload:n,callback:function(e){1!=e.result?f["a"].error("\u66f4\u65b0\u9519\u8bef"):(f["a"].success("\u66f4\u65b0\u6210\u529f"),a.handleUpdateModalVisible(),a.props.dispatch({type:"".concat(j,"/queryCol")}))}}),t},a.state={modalVisible:!1,addModalVisible:!1,expandForm:!1,selectedRows:[],formValues:{},stepFormValues:{},updateModalVisible:!1,updateRecord:{},isAddSuccess:!1,oneLineDeleteModalVisible:{},oneLineRecordValue:{}},a}return L()(t,e),w()(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"".concat(j,"/queryCol")})}},{key:"render",value:function(){var e=this,t={list:this.props.rows,pagination:{total:this.props.rows?this.props.rows.length:0,pageSize:this.props.rows?this.props.rows.length:0}},a={handleAddModalVisible:this.handleAddModalVisible,handleAdd:this.handleAdd},n={handleUpdateModalVisible:this.handleUpdateModalVisible,handleUpdate:this.handleUpdate},s=this.props.loading;return I.a.createElement(q["a"],{title:"\u680f\u76ee\u7ba1\u7406"},I.a.createElement(m["a"],{bordered:!1},I.a.createElement("div",{className:N.a.tableList},I.a.createElement("div",{className:N.a.tableListOperator},I.a.createElement(h["a"],{icon:"plus",type:"primary",onClick:function(){return e.handleAddModalVisible(!0)}},"\u65b0\u589e"),this.state.selectedRows.length>0&&I.a.createElement("span",null,I.a.createElement(h["a"],{onClick:this.handleDeleteRecordLines},"\u6279\u91cf\u5220\u9664"))),I.a.createElement(U["a"],{selectedRows:this.state.selectedRows,loading:s,data:t,columns:this.columns,onSelectRow:this.handleSelectRows}))),I.a.createElement(P,V()({},a,{addModalVisible:this.state.addModalVisible,values:this.state.stepFormValues,isAddSuccess:this.state.isAddSuccess,handleChangeIsAddSuccess:this.handleChangeIsAddSuccess})),I.a.createElement(Z,V()({},n,{updateModalVisible:this.state.updateModalVisible,record:this.state.updateRecord})))}}]),t}(I.a.Component),p=u))||p)||p);t["default"]=H}}]);