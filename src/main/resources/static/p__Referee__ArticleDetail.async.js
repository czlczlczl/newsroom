(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[54],{"+1u/":function(e,t,a){"use strict";a.r(t);a("2qtc");var r,l,n,i,c,s,o,u=a("kLXV"),m=(a("FJo9"),a("L41K")),d=(a("IzEo"),a("bx4M")),p=(a("14J3"),a("BMrR")),h=(a("jCWc"),a("kPKH")),E=(a("+L6B"),a("2/Rp")),v=(a("OaEy"),a("2fM7")),f=(a("sRBo"),a("kaz8")),g=(a("7Kak"),a("9yH6")),b=(a("/zsF"),a("PArb")),k=(a("5NDa"),a("5rEg")),y=(a("miYZ"),a("tsqr")),D=a("2Taf"),w=a.n(D),S=a("vZ4D"),F=a.n(S),O=a("l4Ni"),T=a.n(O),j=a("ujKo"),C=a.n(j),I=a("MhPg"),N=a.n(I),_=(a("y8nQ"),a("Vl3Y")),q=a("q1tI"),x=a.n(q),A=a("MuoO"),L=a("wd/R"),M=a.n(L),U=a("usdK"),G=a("+kNj"),R=a("Yaqk"),z=a("zHco"),J=a("UUne"),B=a.n(J),P="academicSection",K="refereeDetailPublicStorage",H=function(e){var t=e[K].task,a=e[K].article,r=e[P].list;return{academicSec:r,article:a,task:t}},Y={labelCol:{span:5},wrapperCol:{span:19}},V=(r=_["a"].create(),r((n=function(e){function t(e){var a;return w()(this,t),a=T()(this,C()(t).call(this,e)),a.academicOptions=[{label:"1. \u6709\u65b0\u6210\u679c",value:"1"},{label:"2. \u6709\u65b0\u7ecf\u9a8c",value:"2"},{label:"3. \u6709\u65b0\u89c1\u89e3",value:"3"},{label:"4. \u91cd\u590d\u4ed6\u4eba\u5de5\u4f5c",value:"4"},{label:"5. \u65e0\u65b0\u5185\u5bb9",value:"5"},{label:"6. \u8d28\u91cf\u5dee",value:"6"}],a.wordOptions=[{label:"1. \u7b80\u5355\u901a\u987a",value:"1"},{label:"2. \u91cd\u590d\u5197\u957f",value:"2"},{label:"3. \u903b\u8f91\u6027\u5dee",value:"3"},{label:"4. \u6709\u8bed\u75c5",value:"4"},{label:"5. \u6709\u4e0d\u89c4\u8303\u6587\u5b57",value:"5"},{label:"6. \u6709\u6807\u70b9\u7b26\u53f7\u4f7f\u7528\u4e0d\u5f53\u4e4b\u5904",value:"6"}],a.onSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(!e){if(!values.publishFuc&&!values.backModify&&""==values.giveTo&&!values.reject)return void y["a"].error("\u8bf7\u586b\u5199\u5904\u7406\u7ed3\u8bba");var r={content:t.content,contentToEditor:t.contentToEditor,politics:values.politics,secret:values.secret,academic:values.academic,scientific:values.scientific,word:values.word,practicality:values.practicality,conclusion:values.conclusion,publishFuc:1==a.state.opinion?values.publishFuc:null,backModify:2==a.state.opinion?values.backModify:null,giveTo:3==a.state.giveTo?values.giveTo:null,reject:4==a.state.reject?values.reject:null};JSON.stringify(r)}})},a.state={opinion:0},a}return N()(t,e),F()(t,[{key:"render",value:function(){var e=this;return x.a.createElement(_["a"],Y,x.a.createElement(_["a"].Item,{label:"\u5ba1\u7a3f\u610f\u89c1"},this.props.form.getFieldDecorator("content",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5ba1\u7a3f\u610f\u89c1"}]})(x.a.createElement(k["a"].TextArea,{row:10,placeholder:"\u8bf7\u586b\u5199\u5ba1\u7a3f\u610f\u89c1"}))),x.a.createElement(_["a"].Item,{label:"\u7ed9\u7f16\u8f91\u90e8\u7684\u610f\u89c1"},this.props.form.getFieldDecorator("contentToEditor",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u7ed9\u7f16\u8f91\u90e8\u7684\u610f\u89c1"}]})(x.a.createElement(k["a"].TextArea,{row:10,placeholder:"\u8bf7\u586b\u5199\u7ed9\u7f16\u8f91\u90e8\u7684\u610f\u89c1"}))),x.a.createElement(b["a"],null),"\u8bc4\u4ef7\u610f\u89c1\uff1a",x.a.createElement(_["a"].Item,{label:"\u653f\u6cbb\u65b9\u9762"},this.props.form.getFieldDecorator("politics",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u653f\u6cbb\u65b9\u9762\u610f\u89c1"}]})(x.a.createElement(g["a"].Group,null,x.a.createElement(g["a"],{value:1},"1. \u65e0\u9519\u8bef"),x.a.createElement(g["a"],{value:2},"2. \u6709\u9519\u8bef")))),x.a.createElement(_["a"].Item,{label:"\u6d89\u5bc6\u95ee\u9898"},this.props.form.getFieldDecorator("secret",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u662f\u5426\u6d89\u5bc6"}]})(x.a.createElement(g["a"].Group,null,x.a.createElement(g["a"],{value:1},"1. \u65e0\u6d89\u5bc6\u95ee\u9898"),x.a.createElement(g["a"],{value:2},"2. \u6709\u6d89\u5bc6\u95ee\u9898")))),x.a.createElement(_["a"].Item,{label:"\u5b66\u672f\u65b9\u9762"},this.props.form.getFieldDecorator("academic",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5b66\u672f\u65b9\u9762\u610f\u89c1"}]})(x.a.createElement(f["a"].Group,{options:this.academicOptions}))),x.a.createElement(_["a"].Item,{label:"\u79d1\u5b66\u6027\u65b9\u9762"},this.props.form.getFieldDecorator("scientific",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u79d1\u5b66\u6027\u65b9\u9762\u9009\u9879"}]})(x.a.createElement(g["a"].Group,null,x.a.createElement(g["a"],{value:1},"1. \u5f88\u5f3a"),x.a.createElement(g["a"],{value:2},"2. \u5f3a"),x.a.createElement(g["a"],{value:3},"3. \u4e00\u822c"),x.a.createElement(g["a"],{value:4},"4. \u5dee")))),x.a.createElement(_["a"].Item,{label:"\u6587\u5b57\u65b9\u9762"},this.props.form.getFieldDecorator("word",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6587\u5b57\u65b9\u9762\u610f\u89c1"}]})(x.a.createElement(f["a"].Group,{options:this.wordOptions}))),x.a.createElement(_["a"].Item,{label:"\u5b9e\u7528\u6027\u65b9\u9762"},this.props.form.getFieldDecorator("practicality",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5b9e\u7528\u6027\u65b9\u9762\u9009\u9879"}]})(x.a.createElement(g["a"].Group,null,x.a.createElement(g["a"],{value:1},"1. \u5f88\u5b9e\u7528"),x.a.createElement(g["a"],{value:2},"2. \u5b9e\u7528"),x.a.createElement(g["a"],{value:3},"3. \u5b9e\u7528\u6027\u5dee"),x.a.createElement(g["a"],{value:4},"4. \u4e0d\u5b9e\u7528")))),x.a.createElement(_["a"].Item,{label:"\u603b\u8bc4\u4ef7"},this.props.form.getFieldDecorator("conclusion",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u603b\u8bc4\u4ef7\u9009\u9879"}]})(x.a.createElement(g["a"].Group,null,x.a.createElement(g["a"],{value:1},"1. \u4f18"),x.a.createElement(g["a"],{value:2},"2. \u826f"),x.a.createElement(g["a"],{value:3},"3. \u4e2d"),x.a.createElement(g["a"],{value:4},"4. \u5dee")))),x.a.createElement(b["a"],null),"\u5904\u7406\u610f\u89c1",x.a.createElement(_["a"].Item,{label:"\u8bf7\u9009\u62e9\u5904\u7406\u610f\u89c1"},x.a.createElement(v["a"],{value:this.state.opinion,onSelect:function(t){e.setState({opinion:t})}},x.a.createElement(v["a"].Option,{value:0},"\u8bf7\u9009\u62e9\u5904\u7406\u610f\u89c1"),x.a.createElement(v["a"].Option,{value:1},"\u520a\u7528"),x.a.createElement(v["a"].Option,{value:2},"\u9000\u4fee"),x.a.createElement(v["a"].Option,{value:3},"\u8f6c\u9001"),x.a.createElement(v["a"].Option,{value:4},"\u9000\u7a3f"))),x.a.createElement(_["a"].Item,{label:"\u520a\u7528"},this.props.form.getFieldDecorator("publishFuc",{})(x.a.createElement(g["a"].Group,{disabled:1==this.state.opinion},x.a.createElement(g["a"],{value:1},"1. \u5168\u6587\u53d1\u8868"),x.a.createElement(g["a"],{value:2},"2. \u6458\u8981\u53d1\u8868"),x.a.createElement(g["a"],{value:3},"3. \u7efc\u5408\u53d1\u8868")))),x.a.createElement(_["a"].Item,{label:"\u9000\u4fee"},this.props.form.getFieldDecorator("backModify",{})(x.a.createElement(g["a"].Group,{disabled:2==this.state.opinion},x.a.createElement(g["a"],{value:1},"1. \u9000\u4fee\u540e\u53d1\u8868"),x.a.createElement(g["a"],{value:2},"2. \u9000\u4fee\u540e\u518d\u5ba1")))),x.a.createElement(_["a"].Item,{label:"\u8f6c\u9001"},this.props.form.getFieldDecorator("giveTo",{})(x.a.createElement(k["a"],{placeholder:"\u586b\u5199\u8f6c\u9001\u4eba\u5458",disabled:3==this.state.opinion}))),x.a.createElement(_["a"].Item,{label:"\u9000\u7a3f"},this.props.form.getFieldDecorator("reject",{})(x.a.createElement(g["a"].Group,{disabled:4==this.state.opinion},x.a.createElement(g["a"],{value:1},"1. \u4e0d\u5c5e\u672c\u520a\u62a5\u9053\u8303\u56f4"),x.a.createElement(g["a"],{value:2},"2. \u4e0e\u5df2\u53d1\u8868\u6216\u5373\u5c06\u520a\u7528\u7684\u6587\u7ae0\u96f7\u540c\uff0c\u800c\u6b64\u7a3f\u65e0\u72ec\u5230\u4e4b\u5904"),x.a.createElement(g["a"],{value:3},"3. \u8d28\u91cf\u4e0d\u597d"),x.a.createElement(g["a"],{value:4},"4. \u5176\u4ed6")))),x.a.createElement(E["a"],{type:"primary",onClick:this.onSubmit},"\u63d0\u4ea4"))}}]),t}(x.a.Component),l=n)),i=Object(A["connect"])(H,null),c=_["a"].create(),i(s=c((o=function(e){function t(e){var a;return w()(this,t),a=T()(this,C()(t).call(this,e)),a.translateAcademicSec=function(e){if(-1==e)return null;if(!a.props.academicSec)return null;for(var t=0;t<a.props.academicSec.length;t++)if(a.props.academicSec[t].id==e)return a.props.academicSec[t].academicsec;return null},a.onSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(!e){var r={task:{id:a.state.task.id,id_article:a.state.task.id_article,id_role:a.state.task.id_role,content:t.content,stat:t.stat,role:a.state.task.role,flag:a.state.task.flag}};fetch("/contribute/task/judge",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json;charset=UTF-8"},credentials:"include"}).then(function(e){return e.json()}).then(function(e){1!=e.result?y["a"].error("\u63d0\u4ea4\u9519\u8bef"):U["a"].push("/referee/judgeresult")})}})},a.onReject=function(e){e.preventDefault();var t={task:{id:a.state.task.id,id_article:a.state.task.id_article,id_role:a.state.task.id_role,content:a.state.task.content,stat:a.state.task.stat,role:3,flag:a.state.task.flag}};fetch("/contribute/task/judge",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(t),credentials:"include"}).then(function(e){return e.json()}).then(function(e){1!=e.result?y["a"].error("\u63d0\u4ea4\u9519\u8bef"):U["a"].push("/referee/rejectresult")})},a.downloadURL=function(e){e.preventDefault(),fetch("/download/id=".concat(a.state.task.id,"&type=0")).then(function(e){e.blob().then(function(t){var a=document.createElement("a");document.body.appendChild(a),a.style.display="none";var r=window.URL.createObjectURL(t);a.href=r,a.download=e.headers.get("Content-Disposition").split(";")[1].split("filename=")[1],a.click(),document.body.removeChild(a)})})},a.state={task:void 0,article:void 0,targetTime:0},a}return N()(t,e),F()(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"".concat(P,"/queryList")});var e=M()(this.props.task?this.props.task.date:void 0).add(30,"days");this.setState({task:this.props.task,article:this.props.article,targetTime:e})}},{key:"render",value:function(){var e=this.state?x.a.createElement(G["a"],{className:B.a.headerList,size:"small",col:"2"},x.a.createElement(G["a"].Description,{term:"\u5b66\u672f\u9886\u57df"},this.translateAcademicSec(this.state.article?this.state.article.academicsec:-1)),x.a.createElement(G["a"].Description,{term:"\u5173\u952e\u8bcd\uff08\u4e2d\u6587\uff09"},this.state.article?this.state.article.keyword1_cn:"","\xa0",this.state.article?this.state.article.keyword2_cn:"N/A","\xa0",this.state.article?this.state.article.keyword3_cn:"N/A","\xa0",this.state.article?this.state.article.keyword4_cn:"N/A"),x.a.createElement(G["a"].Description,{term:"\u5173\u952e\u8bcd\uff08\u82f1\u6587\uff09"},this.state.article?this.state.article.keyword1_en:"","\xa0",this.state.article?this.state.article.keyword2_en:"N/A","\xa0",this.state.article?this.state.article.keyword3_en:"N/A","\xa0",this.state.article?this.state.article.keyword4_en:"N/A"),x.a.createElement(G["a"].Description,{term:"\u6587\u7ae0\u5730\u5740"},x.a.createElement("a",{onClick:this.downloadURL},"\u4e0b\u8f7d\u5730\u5740"))):null,t=this.state?x.a.createElement(p["a"],null,x.a.createElement(h["a"],{xs:24,sm:12},x.a.createElement("div",{className:B.a.textSecondary},"\u72b6\u6001"),x.a.createElement("div",{className:B.a.heading},"\u5f85\u5ba1\u7a3f")),x.a.createElement(h["a"],{xs:24,sm:12},x.a.createElement("div",{className:B.a.textSecondary},"\u8ddd\u79bb\u622a\u6b62\u65f6\u95f4"),x.a.createElement("div",{className:B.a.heading},x.a.createElement(R["a"],{target:this.state.targetTime})))):null;return x.a.createElement(z["a"],{title:"\u6587\u7ae0\u6807\u9898\uff1a".concat(this.state.article?this.state.article.title:""),logo:x.a.createElement("img",{alt:"",src:"https://gw.alipayobjects.com/zos/rmsportal/nxkuOJlFJuAUhzlMTCEe.png"}),content:e,extraContent:t},x.a.createElement(d["a"],{title:"\u4e2d\u6587\u6458\u8981",style:{marginBottom:24},bordered:!1},this.state.article?this.state.article.summary_cn:""),x.a.createElement(d["a"],{title:"\u6d41\u7a0b\u8fdb\u5ea6",style:{marginBottom:24},bordered:!1},x.a.createElement(m["a"],{progressDot:!0,direction:"horizontal",current:0},x.a.createElement(m["a"].Step,{title:"\u63d0\u4ea4\u5ba1\u7a3f\u610f\u89c1",description:"\u8bf7\u63d0\u4ea4\u4f60\u5bf9\u672c\u7bc7\u6587\u7ae0\u7684\u5ba1\u7a3f\u610f\u89c1"}),x.a.createElement(m["a"].Step,{title:"\u5ba1\u7a3f\u5b8c\u6210",description:"\u8be5\u7bc7\u6587\u7ae0\u7684\u5ba1\u7a3f\u4efb\u52a1\u5df2\u5b8c\u6210"}))),x.a.createElement(d["a"],{title:"\u64cd\u4f5c",style:{marginBottom:24},bordered:!1},x.a.createElement(_["a"],{layout:"horizontal"},x.a.createElement(_["a"].Item,{label:"\u5ba1\u7a3f\u7ed3\u8bba"},this.props.form.getFieldDecorator("stat",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4e00\u4e2a\u5ba1\u7a3f\u7ed3\u8bba"}]})(x.a.createElement(v["a"],null,x.a.createElement(v["a"].Option,{value:4},"\u901a\u8fc7"),x.a.createElement(v["a"].Option,{value:2},"\u4e0d\u901a\u8fc7")))),x.a.createElement(_["a"].Item,{label:"\u5ba1\u7a3f\u610f\u89c1"},this.props.form.getFieldDecorator("content",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5ba1\u7a3f\u610f\u89c1"}]})(x.a.createElement(k["a"].TextArea,{row:10,placeholder:"\u8bf7\u586b\u5199\u5ba1\u7a3f\u610f\u89c1"}))),x.a.createElement(E["a"],{type:"primary",onClick:function(){u["a"].confirm({title:"\u662f\u5426\u786e\u8ba4\u63d0\u4ea4",content:"\u662f\u5426\u786e\u8ba4\u63d0\u4ea4",onOk:function(){this.onSubmit()}})}},"\u63d0\u4ea4"),"\xa0",x.a.createElement(E["a"],{type:"danger",onClick:function(){u["a"].confirm({title:"\u662f\u5426\u786e\u8ba4\u62d2\u7edd",content:"\u662f\u5426\u786e\u8ba4\u62d2\u7edd",okType:"danger",onOk:function(){this.onReject()}})},disabled:!!this.state.task&&7==this.state.task.stat},"\u62d2\u7edd"))))}}]),t}(x.a.Component),s=o))||s)||s);t["default"]=V},UUne:function(e,t,a){e.exports={headerList:"antd-pro-pages-referee-article-detail-headerList",tabsCard:"antd-pro-pages-referee-article-detail-tabsCard",noData:"antd-pro-pages-referee-article-detail-noData",heading:"antd-pro-pages-referee-article-detail-heading",stepDescription:"antd-pro-pages-referee-article-detail-stepDescription",textSecondary:"antd-pro-pages-referee-article-detail-textSecondary"}}}]);